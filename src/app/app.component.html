
<!-- hedhhha -->

<!-- <nb-layout>
  <nb-layout-column> -->
    <nb-layout>
      <nb-layout-column>
        <div class="create-contract-button">
          <button>
            Créer Compte
          </button>
        </div>
        
    <table class="custom-table">
      <thead>
        <!-- Ligne 1 : Noms des champs -->
        <tr class="header-fields">
          <th>Numéro Cashpool</th>
          <th>Nom Group Cashpool</th>
          <th>Type de Nivellement</th>
          <th>Devise</th>
          <th>Numéro Compte Pivot</th>
          <th>Banque</th>
          <th>BIC</th>
          <th>Actions</th>
        </tr>

        <!-- Ligne 2 : Filtres -->
        <tr class="header-filters">
          <th>
            <input
              type="number"
              [(ngModel)]="filters.numeroCashpool"
              (input)="applyFilters()"
              placeholder="Numéro Cashpool"
            />
          </th>
          <th>
            <input
              type="text"
              [(ngModel)]="filters.nomGroupCashpool"
              (input)="applyFilters()"
              placeholder="Nom Group Cashpool"
            />
          </th>
          <th>
            <nb-select
              [(ngModel)]="filters.typeNivellement"
              (selectedChange)="applyFilters()"
              placeholder="Type de Nivellement"
            >
              <nb-option value="">Tous</nb-option>
              <nb-option value="Directe">Directe</nb-option>
              <nb-option value="Indirecte">Indirecte</nb-option>
            </nb-select>
          </th>
          <th>
            <nb-select
              [(ngModel)]="filters.devise"
              (selectedChange)="applyFilters()"
              placeholder="Devise"
            >
              <nb-option value="">Tous</nb-option>
              <nb-option *ngFor="let devise of devises" [value]="devise">{{ devise }}</nb-option>
            </nb-select>
          </th>
          <th>
            <input
              type="number"
              [(ngModel)]="filters.numeroComptePivot"
              (input)="applyFilters()"
              placeholder="Numéro Compte Pivot"
            />
          </th>
          <th>
            <input
              type="text"
              [(ngModel)]="filters.banque"
              (input)="applyFilters()"
              placeholder="Banque"
            />
          </th>
          <th>
            <input
              type="text"
              [(ngModel)]="filters.bic"
              (input)="applyFilters()"
              placeholder="BIC"
            />
          </th>
          <th>
            <i class="fas fa-sync" (click)="resetFilters()"></i>
            <!-- <button nbButton status="primary" (click)="resetFilters()">Réinitialiser</button> -->
           
          </th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let row of paginatedData">
          <td>{{ row.numeroCashpool }}</td>
          <td>{{ row.nomGroupCashpool }}</td>
          <td>{{ row.typeNivellement }}</td>
          <td>{{ row.devise }}</td>
          <td>{{ row.numeroComptePivot }}</td>
          <td>{{ row.banque }}</td>
          <td>{{ row.bic }}</td> 
          <td class="actions">
            <i class="fas fa-edit" (click)="editRow(row)" ></i>
    <i class="fas fa-eye" (click)="viewRow(row)" ></i>
    <i class="fas fa-times-circle" (click)="closeRow(row)"></i>
          </td>       
        </tr>
      </tbody>
    </table>

    <!-- Pagination avec flèches -->
    <div class="pagination-controls">
      <button (click)="goToPage(1)" [disabled]="currentPage === 1"><<</button>
      <button (click)="goToPrevious()" [disabled]="currentPage === 1"><</button>
      <span>Page {{ currentPage }} sur {{ totalPages }}</span>
      <button (click)="goToNext()" [disabled]="currentPage === totalPages">></button>
      <button (click)="goToPage(totalPages)" [disabled]="currentPage === totalPages">>></button>
    </div>
     <!-- <div class="create-contract-button">
          <button>
            Créer Compte
          </button>
        </div> -->
  </nb-layout-column>
</nb-layout>
